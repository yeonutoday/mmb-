--------------------------------------------------------------------------------
 MM BToolBBS v1.11.04
--------------------------------------------------------------------------------

Release Information

2007/ 4/ 28  BEU 배포(Mic)			v1.9
2007/ 6/ 26  M타입 배포(Madoka)			v1.03
2007/ 8/ 18  MM 배포(Mic)			v1.00
2007/ ?/ ??  MM 배포(Madoka)			v1.00
2007/ ?/ ??  MM 업데이트(Mic)			v1.11
2008/ 2/ 07  MM 업데이트(Madoka)		v1.11.01
2008/ 2/ 08  MM 업데이트(Madoka)		v1.11.02
2008/ 2/ 09  MM 업데이트(Madoka)		v1.11.03
2008/ 2/ 19  MM 업데이트(Madoka)		v1.11.04

Base Original Script : dyun (BToolbbs 1.xx & 2.xx)

MMB Update Main Script
 - M-Type 1.03 (create by Madoka (Homepage : http://mahokokr.pooding.com/))
 - BEU 1.9 (create by Mic (blog : http://blog.naver.com/ion01/))

--------------------------------------------------------------------------------

[라이센스]

다음 사항에 동의하시는 분만 본 게시판을 사용할 수 있습니다.

1. 사용으로 인한 데이터 손실 및 기타 손해 등 어떠한 사고나 문제에 대해서
   제작자는 아무런 책임도 지지 않습니다.

2. 프로그램에 대해 제작자는 유지/보수의 의무가 없습니다.

3. 제작자는 설치나 사용에 대한 질문에 반드시 답변할 의무는 없습니다.

4. 본 게시판은 재배포 할 수 없습니다. 또한 제작자 및 버젼 표시는 반드시 화면상에
   나오도록 해 주십시오. 표시방법은 필요에 의해 변경하셔도 상관없지만 삭제하면
   안됩니다.

5. 본 게시판은 비툴 개발자이신 반디(뎐남자)님께서 제작하고, 공개하신것을 기반으로 합니다.
mm은, 제(마도카)가 제작/배포하던 M 타입과 Mic이 제작한 BEU의 합본입니다. 이 게시판에 대한
모든 서포트나 책임은 Mic 님과 저(Madoka)가 함께 집니다.

질문에 대한 사항은 Mic의 블로그 http://blog.naver.com/ion01/ 나 http://mahokokr.pooding.com에
오셔서, 안부게시판에(Mic) 또는 Q/A 게시판에 질문 글 남겨주시면 아는 한도 내에서 답변 해 드립니다.

--------------------------------------------------------------------------------

v2.xx 예정
- 그림없이 글만 작성가능한 기능 추가(초기 설정치는 off)
- 단, 이 기능이 추가되면 v2.xx 이전의 로그데이터는 v2.xx에 적용해도 완벽히 호환되지만 v2.xx에서
작성된 이전버젼에 로그데이터를 옮겨쓸경우 100% 호환되지 않게 되므로(에러가 발생하지는 않음) 기능추가는
확정되어 있지 않습니다.

이에 대한 여러분의 의견은 http://mahokokr.pooding.com 의 M타입 관련 게시판에 남겨주시면 참고하도록 하겠습니다.
Mic 님의 2.0 이 나오면 그에 맞추어 이후 업데이트가 이루어 질 예정입니다.



v1.11.04 변경사항
--------------------------------------------------------------------------------
* ip, 작성툴, 시간 선택옵션 무효화 버그 수정(1.11.03.a 에서)
- 1.11.03.a 에서 수정했...는데 그만 깜빡 잊고 option_list 파일을 교체하지 않아서
제대로 움직이지 않고 있었습니다.(--) option_list.php 파일 교체.
* 페이지 이동 버튼 삭제, 페이지 이동 바 도입
- 제로보드 스타일의 페이지 이동 바를 적용했습니다. 서버에 약간 부담을 줄 수 있기에
심사숙고 했으나, 기존에 3페이지 이동버튼이 부정확하고, 기존의 전후 이동 버튼은
불편해서......원치 않으시는 분들은 1.11.03.a 를 그대로 쓰시면 됩니다.
* ip 옵션 off 시 화면 전체에서 ip 표시가 사라집니다.(리플 작성시 포함)
* 공지사항 기능 추가
- 공지사항 작성법 : v1.11.04 에 포함된 notice.html 파일이 공지사항의 샘플
예제입니다. 공지사항은 이렇게 notice.html 이란 이름으로 만들어 업로드 시킵니다.
작성형식은 보통의 html 그대로.
- 표시위치 : index.php 파일을 열어보면 
  <?=notice($notice);?>
이런 것이 있습니다. 이 부분에 공지사항이 표시되므로, 이 부분을 표시하기 원하는
위치로 옮겨주고 저장한뒤, 계정에 업로드 시키면 이후는 notice.html 파일을 갱신하는
것만으로 공지사항을 바꿔줄 수 있습니다.
- 공지사항 표시는 환경설정에서 off 시키면 notice.html 파일 존재여부여 관계없이
표시되지 않습니다.
--------------------------------------------------------------------------------

v1.11.03 변경사항
--------------------------------------------------------------------------------
*. 환경설정 항목에 새 항목이 추가되었습니다.
- 추가 항목 : 그림 관리자 전용 모드
- 초기값    : off
- 기능 설명 :
이 항목 설정치가 on 일 경우 그림버튼이 관리자 모드에서만 표시되고 일반모드에서는 표시되지 않게되어
관리자 이외에는 그림을 작성 할 수 없게 됩니다. 초기치인 off 에서는 지금까지와 마찬가지로 일반/관리자
모드 양쪽에서 그림을 작성 할 수 있습니다.

*. 신규 설치시의 알림창 무한 표시 버그 및 기타 버그를 수정했습니다.
--------------------------------------------------------------------------------

v1.11.02 변경사항
--------------------------------------------------------------------------------
*. 환경설정 항목에 새 항목이 추가되었습니다.
- 추가 항목 : 리플 관리자 전용 모드
- 초기값    : off
- 기능 설명 :
이 항목 설정치가 on 일 경우 리플버튼이 관리자 모드에서만 표시되고 일반모드에서는 표시되지 않게되어
관리자 이외에는 리플을 작성 할 수 없게 됩니다. 초기치인 off 에서는 지금까지와 마찬가지로 일반/관리자
모드 양쪽에서 리플을 작성 할 수 있습니다.
--------------------------------------------------------------------------------

v1.11.01 변경사항
--------------------------------------------------------------------------------
*. 환경설정에서 그림 보존 갯수(최대) 수치 변경시, 그림(리플) 등록.삭제 작업시 해당 수치를 넘어가는
로그(그림 및 리플)가 실제로 삭제됩니다. 삭제된 로그는 복구 불가능하므로 로그는 자주 백업하길 권합니다.

*. 환경설정 화면에 각종 퍼미션이 잘못되어 있을 경우 해당 정보 및 올바른 퍼미션을 표시해 알려주므로,
지시대로 퍼미션(권한)을 변경하시기 바랍니다.
--------------------------------------------------------------------------------


v1.00 개선사항
--------------------------------------------------------------------------------
*. 계정에 따라 설치후 아무리 수치를 조절해도 화면크기가 40 x 40 으로 고정되는 문제 (개선)
*. 위 문제 발생과 더불어 관리자모드로 들어갈 수 없는 문제 (개선)
*. 위 문제 발생과 더불어 그림이 저장되지 않고, 코멘트가 기록되지 않는 문제 (개선)
*. 관리자모드 진입후 표시/선택 항목에 "환경설정" 메뉴 추가.
*. 환경설정에서 캔버스 크기(가로,세로) 조절, 캔버스 기본 수치 조절 등 다양한 설정 변경 가능
*. 가로,세로 수치 입력칸의 입력 가능 글자수가 환경 설정에서 지정한 캔버스 수치에 따라
   자동으로 조절되도록 수정.
*. 에스카르고 통합.
*. 그림 투고시 및 글 작성시에 이미 락이 걸린 상태로 10초 이상 지난 경우 락을 강제 해제하고
   투고시킴으로서 락 에러를 자동복구하도록 수정.
*  IP Address, 작업시간 표시 ON/OFF 기능 (추가)
*. 답글 작성시의 기존 리플내용 표시 기능 추가 (환경설정에서 on/off 가능)
   이 기능은 답글 작성시에, 기존에 달려있던 답글이 모두 표시됨으로서 답글의 흐름을 유지하기
   쉽도록 한 것입니다. 커뮤니티적 성격을 약간 보완하는 기능이라고 볼수 있습니다.
*.그림사이즈에 따라 리플표시위치 자동변경 기능 추가
  이 기능은 그림의 가로크기가 큰 그림의 경우, 리플이 표시될 가로영역이 너무 줄어들어버림으로
  인해 세로로 길게 늘어져버리고 읽기도 힘들며 보기도 안좋게 되는 불편함을 개선하기 위한
  기능입니다. 다만 기본베이스는 오리지널과 동일하게 유지하되, 그림의 가로 사이즈가 일정 수준
  이상인 경우 리플 표시위치를 그림 오른쪽에서 그림 하단으로 자동 변경하여 표시하도록 되어 있습니다.
  환경설정에서 기준이 되는 가로사이즈 크기를 조절할 수 있습니다.
*. 페이지당 표시하는 게시물의 갯수가 삭제여부에 관계없이 무조건 설정한 페이지 표시수 만큼 표시됩니다.
   지금까지의 비툴 게시판들은 게시물을 중간중간 삭제하면 페이지당 10개를 표시하게 되어있다 해도 삭제한
   수 만큼 빠져서 10개전부가 표시되지 않는데 비해 M타입에서는 그런일이 일어나지 않습니다. 즉, 아무리
   중간게시물을 삭제 해도, 페이지당 표시수를 10개로 지정했으면 10개, 5개로 지정했으면 5개가 표시됩니다.
   물론 게시판 윗부분의 페이지를 직접 이동시키는 바를 사용해도 그대로 잘 듣습니다.
*. 이모티콘 기능 추가(M-타입 1.03 까지는 패치파일로 제공)

-- 이상 M-타입 1.03 기본기능(by Madoka)
---------------------------------------------------------------------------------

* 이미지 업로드 기능

* 이모티콘 기능

* 답글 내에서 키워드 검색 기능 추가.
index.php 에서 가장 밑의 텍스트 입력 창에 원하시는 키워드를 입력하신 후 검색 버튼을 누르면
해당 키워드와 관련된로그와 그 로그의 모든 리플이 "답글순/검색 게시물수" 만큼  표시됩니다.

* 제한된 로그/답글 삭제기능의 추가.
env.php 파일안에 관리자 비밀번호 외에 회원 공용 비밀번호를 하나더 둬서, 환경설정에서 제한삭제 항목을 on 하면
회원공용 비밀번호를 먼저 입력해서 이 과정을 넘어가야만 본래의 로그/답글 의 비밀번호 입력 란으로 넘어갑니다.
현재는 로그 삭제와 답글 삭제가 일괄적으로 제한됩니다.

-- 이상 BEU 1.9 기본기능(by Mic)
----------------------------------------------------------------------------------
* 변경된 이모티콘 사용 방법.
기존엔 이모티콘을 사용하시려면 index.php 내부에 소스코드를 고치셔야 하는 등 번거로우셨으나 이제부터는 비교적
간단한 방법을 사용하면 php파일을 건드리지 않고도 이모티콘을 추가, 삭제할 수 있습니다.  현재는 여전히 FTP를
이용해야 합니다만, 차후 마도카님께서 더욱 편리한 이모티콘을 추가하는 방법으로 개선하신다고 합니다.  기다려 주세요.
새로운 이모티콘 사용방법은 배포파일 내의 readme.txt 파일 안에 있습니다. 기존과 다릅니다.
http://blog.naver.com/ion01/110021546478 에 스크린샷을 포함해서 설명되어 있습니다.

* 이미지 업로드 기능
'load' 버튼을 누르시면 새로운 페이지로 넘어갑니다. 그 페이지에서 '찾아보기' 버튼을 누르시고
본인의 하드디스크 안의 그림 파일을 선택해 업로드 합니다. 업로드 하실 때 비밀번호를 쓰시면
인덱스 페이지에서 게시물을 삭제하실 수 있습니다.
현재 기본 지원하는 확장자는 png,jpg,gif 입니다. 움직이는 gif도 가능합니다.
업로더로 불러온 그림 중에서, "비툴로 그린" png 파일은 이어그리기가 가능합니다.
단, "그린 당시의 비밀번호"를 알고 계셔야만 비툴로 불러오실 수 있습니다.
업로더로 올리때의 비밀번호는 "그림을 삭제할때만" 관여합니다.


--------------------------------------------------------------------------------

** 주의 **

1. mm은, 오리지널 비툴 게시판과, 비툴 M타입과, BEU 1.9버전과 데이터는 호환됩니다.
그러나 btool.dat 파일을 제외하고는 거의 모든 부분의 소스 코드가 바뀌었으므로 파일 일부만을
교체하는 방식으로는 동작에 문제를 일으킬 가능성이 높습니다.  따라서,  예전 버전을 쓰시던
분들께서는 아래에 링크한 설명글을 토대로 재설치를 해주시기 바랍니다.

2. env.php 파일에 있는 관리자 패스워드는 반드시 수정한 후 올리시기 바랍니다.



** 설치방법 **

아래의 주소에 가시면 스크린샷을 포함한 설치 방법 설명이 있습니다.

1. MM BTool 게시판 1.00 신규 설치 방법.
http://blog.naver.com/ion01/110021174917

2. BEU 1.9에서 MM 게시판 1.00으로의 업데이트 방법.
http://blog.naver.com/ion01/110021178154


@ 비툴 웹 서버 계정 내의 구조

!! 계정에 따라서 html, 혹은 public_html, 혹은 www 로 이름이 다를 수 있으며 경우에 따라서는
아예 html,public_html,www 없이 곧바로 빈 공간만 보이는 경우도 있습니다. !!

html/ -
       |
       |-btoolbbs/
                  |
                  |- data/
                          |
                          |-btool.dat
                  |- image/
                  |- index.php
                  |- 기타등등... 이하생략

이렇게 업로드가 되었다면,

data 폴더의 퍼미션을 777로,
btool.dat 파일의 퍼미션을 666 으로,
option_data.php 파일의 퍼미션을 666으로,
config_data.php 파일의 퍼미션을 666으로,
변경합니다.

이렇게 된 상태에서 부르는 주소는

http://tester.mireene.com/btoolbbs/

혹은

http://tester.mireene.com/btoolbbs/index.php
가 됩니다.

--------------------------------------------------------------------------------

** 이모티콘 사용방법 **
대략적인 내용은 아래의 블로그 포스팅에 스크린샷이 포함되어
설명되어 있습니다.    http://blog.naver.com/ion01/110021546478


data 폴더내의 emote_data.txt 파일을 열어보면, 다음과 같은 내용이 샘플로 들어있습니다.

/부끄
buk.gif

이 2개의 행이 의미하는 내용은,
'본문에 "/test" 라는 부분이 나오면 그것을 <img src="/image/buk.png"> 로 바꾸어라'
라는 뜻입니다. 물론 이것이 정상적으로 동작하려면 미리 image 폴더에 bukl\.png 파일이
업로드 되어 있어야 합니다(^^)


최종적으로 적용과정을 정리하여 설명합니다.

-- 이모티콘 추가 --
1. emote_data.txt 파일을 메모장(기타 에디터 아무거나)으로 엽니다.
2. 마지막 행으로 커서를 옮깁니다.
3. 이때, 정상적인 emote_data.txt 파일인 경우 마지막 행에는 buk.gif 와 같은 파일명이
   기술되어 있고 그 밑으로 커서가 내려가지 않는 상태입니다. 만일 맨 마지막 이모티콘
   파일명의 밑 빈행이 존재하면 이모티콘 기능이 제대로 움직이지 않을 우려가 있습니다.
4. 기존의 마지막 이모티콘 파일명의 맨 뒤로 커서를 이동하여 엔터를 칩니다.
5. 새로 추가할 이모티콘 단어(ex] /웃음)를 입력하고 엔터를 칩니다.
6. 새로 추가한 이모티콘 단어에 대응할 그림파일명을 입력합니다.(엔터는 치지 않습니다)
7. 저장하고, 계정의 btool/data 폴더안의 emote_data.txt 파일에 덮어씁니다.
이상으로 이모티콘 적용이 완료되었습니다.

-- 이모티콘 변경 --
- 대응되는 단어만 변경되고, 새로운 단어가 대응하는 그림파일이 기존의 단어가 대응하던
  그림파일과 동일한 경우
1. emote_data.txt 파일을 메모장(기타 에디터 아무거나)으로 엽니다.
2. 수정하려는 이모티콘 단어가 있는 행으로 커서를 옮깁니다.
3. 기존의 이모티콘 단어를 새로운 이모티콘 단어로 변경합니다.
4. 저장하고, 계정의 btool/data 폴더안의 emote_data.txt 파일에 덮어씁니다.
이상으로 이모티콘 단어 수정이 완료되었습니다.

- 이모티콘 단어는 그대로 이나 대응하는 그림파일이 기존의 그림파일과 다른 새로운
  파일인 경우
1. emote_data.txt 파일을 메모장(기타 에디터 아무거나)으로 엽니다.
2. 수정하려는 이모티콘 파일명이 있는 행으로 커서를 옮깁니다.
3. 기존의 이모티콘 파일명을 새로운 파일명으로 변경합니다.
4. 저장하고, 계정의 btool/data 폴더안의 emote_data.txt 파일에 덮어씁니다.
5. 계정의 image 폴더에 새로운 이모티콘 파일을 업로드 합니다.
이상으로 이모티콘 파일명 수정이 완료되었습니다.

- 이모티콘 단어 및 파일명 둘다 바뀔경우
1. emote_data.txt 파일을 메모장(기타 에디터 아무거나)으로 엽니다.
2. 수정하려는 이모티콘 단어가 있는 행으로 커서를 옮깁니다.
3. 기존의 이모티콘 단어를 새로운 이모티콘 단어로 변경합니다.
4. 커서를 한칸 밑으로 내려 기존의 이모티콘 파일명을 새로운 파일명으로 변경합니다.
5. 저장하고, 계정의 btool/data 폴더안의 emote_data.txt 파일에 덮어씁니다.
6. 계정의 image 폴더에 새로운 이모티콘 파일을 업로드 합니다.
이상으로 이모티콘 단어&파일명 수정이 완료되었습니다.


-- 이모티콘을 삭제할 경우 --
1. emote_data.txt 파일을 메모장(기타 에디터 아무거나)으로 엽니다.
2. 삭제하려는 이모티콘 단어가 있는 행으로 커서를 옮깁니다.
3. 기존의 이모티콘 단어가 있는 행과, 바로 밑의 대응하는 이모티콘 파일명이 있는
   행을 삭제합니다.
4. 저장하고, 계정의 btool/data 폴더안의 emote_data.txt 파일에 덮어씁니다.
이상으로 이모티콘 삭제가 완료되었습니다.
